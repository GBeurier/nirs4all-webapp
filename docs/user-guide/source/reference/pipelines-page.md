# Pipelines Page

The Pipelines page is the library for managing all analysis pipelines in your workspace. Pipelines define the sequence of preprocessing, splitting, and modeling steps used in experiments.

```{figure} ../_images/pipelines/pl-page-overview.png
:alt: Pipelines page overview
:width: 100%

The Pipelines page showing the pipeline library with grid view, tabs, and preset section.
```

---

## Page layout

1. **Header** -- Title with summary statistics (total, favorites, with runs), and action buttons.
2. **Search and filter bar** -- Search input, tab filters, sort dropdown, and view mode toggle.
3. **Pipeline list** -- Grid or list of pipeline cards.
4. **Presets section** -- Shown on the Presets tab or when no user pipelines exist.

---

## Header actions

| Button | Description |
|--------|-------------|
| **Refresh** | Reloads the pipeline list from the backend. |
| **Import** | Opens a modal to import a pipeline from a JSON file or pasted JSON string. |
| **New Pipeline** | Navigates to the {doc}`pipeline-editor-page` to create a new pipeline from scratch. |

---

## Tabs

| Tab | Description |
|-----|-------------|
| **All** | Shows all pipelines (user-created and presets). |
| **Favorites** | Shows only pipelines marked as favorites. |
| **My Pipelines** | Shows only user-created pipelines (excludes presets). |
| **Presets** | Shows built-in preset pipelines that ship with nirs4all Studio. |
| **History** | Shows pipelines that have been used in at least one experiment run. |

---

## Search and sort

| Control | Description |
|---------|-------------|
| **Search** | Filters pipelines by name (case-insensitive substring match). |
| **Sort** | Dropdown with options: **Last Modified**, **Name**, **Most Runs**, **Most Steps**. |
| **View mode** | Toggle between **Grid** (cards) and **List** (compact rows) layouts. |

---

## Pipeline cards (grid view)

Each pipeline card displays:

| Field | Description |
|-------|-------------|
| **Name** | Pipeline display name. |
| **Source badge** | Indicates whether the pipeline is a preset or user-created. |
| **Step summary** | Visual summary of the pipeline steps (abbreviated as a chain: e.g., SNV > KFold > PLS). |
| **Step count** | Number of steps in the pipeline. |
| **Variant count** | Total number of pipeline variants generated by `_or_`, `_range_`, and `_cartesian_` generators. |
| **Favorite star** | Yellow star if the pipeline is marked as a favorite. Click to toggle. |
| **Last modified** | Date and time of the last edit. |
| **Run count** | Number of experiment runs that have used this pipeline. |

---

## Pipeline rows (list view)

The list view shows the same information in a compact horizontal row format, optimized for scanning many pipelines.

---

## Card actions

Each pipeline card provides actions via a dropdown menu or direct buttons:

| Action | Description |
|--------|-------------|
| **Edit** | Opens the pipeline in the {doc}`pipeline-editor-page`. |
| **Duplicate** | Creates a copy with " (Copy)" appended to the name. |
| **Export** | Opens a dialog showing the pipeline as JSON, with a copy-to-clipboard button. |
| **Toggle Favorite** | Marks or unmarks the pipeline as a favorite. |
| **Delete** | Deletes the pipeline from the workspace. Requires confirmation. |

---

## Preset pipelines

The Presets section displays built-in pipeline templates that cover common NIRS analysis workflows. Selecting a preset creates a new editable copy in your workspace.

Presets include pipelines for tasks such as:

- Basic PLS regression with standard preprocessing
- Multi-preprocessing comparison (SNV, MSC, SavitzkyGolay variants)
- Ensemble methods with cross-validation
- Classification workflows with PLS-DA

:::{note}
Preset pipelines are read-only templates. When you select a preset, a new editable copy is created in your workspace. You can then modify it freely.
:::

---

## Import and export

**Import**: The import modal accepts a JSON string representing a pipeline definition. Paste the JSON or use the file picker to select a `.json` file.

**Export**: The export dialog shows the full JSON representation of the selected pipeline. Use the copy button to copy it to the clipboard.

:::{seealso}
- {doc}`pipeline-editor-page` -- Visual drag-and-drop pipeline builder
- {doc}`node-catalog` -- Complete list of available pipeline nodes
- {doc}`experiment-wizard` -- Using pipelines in experiments
:::
